<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>主题切换测试</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .test-container {
            padding: 2rem;
            text-align: center;
        }

        .test-element {
            margin: 1rem;
            padding: 1rem;
            border-radius: 8px;
            background: var(--card-bg);
            color: var(--text-primary);
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
        }

        .test-button {
            background: var(--button-bg);
            color: var(--text-light);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }

        .test-button:hover {
            background: var(--button-hover);
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>主题切换功能测试</h1>
        <div class="test-element">
            <h3>测试卡片</h3>
            <p>这是一个测试元素，用于验证主题切换功能</p>
        </div>
        <button class="test-button" onclick="toggleTheme()">切换主题</button>
        <button class="test-button" onclick="showNotification()">显示通知</button>
        <div id="theme-status"></div>
    </div>

    <script src="theme.js"></script>
    <script>
        function showNotification() {
            // 创建通知元素
            const notification = document.createElement('div');
            notification.className = 'notification success';
            notification.textContent = '测试通知：主题切换功能正常！';
            notification.style.cssText = 'transform: translateX(100%);';

            document.body.appendChild(notification);

            // 显示动画
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            // 自动隐藏
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // 显示当前主题状态
        function updateThemeStatus() {
            const status = document.getElementById('theme-status');
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            status.innerHTML = `<p>当前主题: <strong>${currentTheme}</strong></p>`;
        }

        // 监听主题变化
        const observer = new MutationObserver(updateThemeStatus);
        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['data-theme']
        });

        // 初始化状态显示
        updateThemeStatus();
    </script>
</body>

</html>